{
  "name": "caiwu-backend",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "wrangler dev src/index.ts",
    "deploy": "wrangler deploy src/index.ts",
    "migrate": "wrangler d1 execute caiwu-db --file src/db/schema.sql",
    "migrate:all": "bash -c 'for file in src/db/migration_*.sql; do echo \"Running: $file\"; wrangler d1 execute caiwu-db --remote --file=\"$file\" || echo \"Failed or already applied: $file\"; done'",
    "migrate:remote": "bash -c 'for file in src/db/migration_*.sql; do echo \"Running: $file\"; wrangler d1 execute caiwu-db --remote --file=\"$file\" || echo \"Failed or already applied: $file\"; done'",
    "migrate:check": "tsx scripts/check-migrations.ts",
    "migrate:check:remote": "tsx scripts/check-migrations.ts --remote",
    "migrate:up": "tsx scripts/migrate-up.ts",
    "migrate:up:remote": "tsx scripts/migrate-up.ts --remote",
    "migrate:status": "tsx scripts/migrate-status.ts",
    "migrate:status:remote": "tsx scripts/migrate-status.ts --remote",
    "migrate:existing": "tsx scripts/migrate-existing.ts",
    "migrate:existing:remote": "tsx scripts/migrate-existing.ts --remote",
    "migrate:hq-org": "tsx scripts/migrate-hq-org-departments.ts",
    "migrate:hq-org:remote": "tsx scripts/migrate-hq-org-departments.ts --remote",
    "gen:openapi": "tsx scripts/export-openapi.ts",
    "gen:password-hash": "tsx scripts/gen-password-hash.ts",
    "seed": "tsx scripts/generate-seed.ts > src/db/seed.sql && wrangler d1 execute caiwu-db --file src/db/seed.sql",
    "test": "vitest",
    "test:unit": "vitest run test/**/*.test.ts",
    "test:services": "vitest run test/services/**/*.test.ts",
    "test:routes": "vitest run test/routes/**/*.test.ts",
    "test:utils": "vitest run test/utils/**/*.test.ts",
    "test:watch": "vitest watch",
    "test:changed": "vitest related",
    "test:coverage": "vitest run --coverage",
    "test:coverage:ui": "vitest --ui --coverage",
    "test:coverage:check": "vitest run --coverage && tsx scripts/coverage-check.ts",
    "test:seed": "tsx scripts/seed-test-data.ts",
    "test:seed:minimal": "tsx scripts/seed-test-data.ts --minimal",
    "test:clean": "tsx scripts/clean-test-data.ts",
    "test:ci": "vitest run --coverage --reporter=verbose",
    "check:standards": "tsx scripts/check-standards.ts",
    "typecheck": "tsc --noEmit",
    "lint": "eslint src --ext .ts",
    "lint:fix": "eslint src --ext .ts --fix",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "format:check": "prettier --check \"src/**/*.ts\" \"test/**/*.ts\"",
    "db:studio": "drizzle-kit studio",
    "db:generate": "drizzle-kit generate",
    "db:push": "drizzle-kit push"
  },
  "devDependencies": {
    "@cloudflare/vitest-pool-workers": "^0.10.9",
    "@cloudflare/workers-types": "^4.20251014.0",
    "@eslint/js": "^9.39.2",
    "@types/better-sqlite3": "^7.6.13",
    "@types/node": "^24.10.1",
    "@types/uuid": "^10.0.0",
    "@typescript-eslint/eslint-plugin": "^8.50.0",
    "@typescript-eslint/parser": "^8.50.0",
    "@vitest/coverage-v8": "^3.2.4",
    "better-sqlite3": "^12.5.0",
    "drizzle-kit": "^0.31.7",
    "eslint": "^9.39.2",
    "lint-staged": "^16.2.7",
    "prettier": "^3.7.4",
    "tsx": "^4.19.2",
    "typescript": "^5.5.4",
    "vitest": "^3.2.4",
    "vitest-mock-extended": "^3.1.0",
    "wrangler": "^4.51.0"
  },
  "dependencies": {
    "@hono/swagger-ui": "^0.5.2",
    "@hono/zod-openapi": "^0.18.3",
    "bcryptjs": "^3.0.2",
    "drizzle-orm": "^0.44.7",
    "hono": "^4.5.5",
    "otplib": "^12.0.1",
    "qrcode-svg": "^1.1.0",
    "uuid": "^9.0.1",
    "zod": "^3.23.8"
  }
}
