# CRUD 测试覆盖情况

## 当前覆盖情况

| 模块 | 读取 (Read) | 创建 (Create) | 更新 (Update) | 删除 (Delete) | 状态 |
|------|------------|--------------|--------------|--------------|------|
| **认证模块** | ✅ | N/A | N/A | N/A | ✅ 完成 |
| **仪表盘和个人中心** | ✅ | N/A | N/A | N/A | ✅ 完成 |
| **财务模块** | ✅ | ✅ | ⚠️ 部分 | ⚠️ 部分 | ✅ 基本完成 |
| **人事模块** | ✅ | ✅ | ⚠️ 部分 | ⚠️ 部分 | ✅ 基本完成 |
| **报表模块** | ✅ | N/A | N/A | N/A | ✅ 完成 |
| **系统管理模块** | ✅ | ✅ | ✅ | ✅ | ✅ 完成 |
| **站点模块** | ✅ | ✅ | ✅ | ⚠️ 部分 | ✅ 基本完成 |
| **资产模块** | ✅ | ✅ | ✅ | ✅ | ✅ 完成 |

## 说明

- ✅ 已覆盖
- ⚠️ 部分覆盖（在 live-env-crud.spec.ts 中有部分测试）
- ❌ 未覆盖
- N/A 不适用（该模块不需要此操作）

## 已实现的 CRUD 测试

### 财务模块 ✅
- [x] 创建收支记录（收入）
- [x] 创建账户转账
- [x] 创建借款记录
- [x] 创建应收单据
- [x] 更新账户状态

### 人事模块 ✅
- [x] 创建请假申请
- [x] 创建报销申请

### 系统管理模块 ✅
- [x] 创建类别
- [x] 创建账户
- [x] 创建供应商
- [x] 更新类别信息
- [x] 更新账户状态
- [x] 更新供应商信息
- [x] 删除类别（测试数据）
- [x] 删除供应商（测试数据）
- [x] 完整的CRUD流程（类别管理）

### 站点模块 ✅
- [x] 创建站点
- [x] 创建站点账单
- [x] 更新站点信息

### 资产模块 ✅
- [x] 创建固定资产
- [x] 创建租赁物业
- [x] 更新固定资产信息
- [x] 删除固定资产（测试数据）

## 测试文件位置

所有 CRUD 测试都在 `live-env-crud.spec.ts` 文件中，按模块组织：

- 创建操作测试 (Create)
- 读取操作测试 (Read)
- 更新操作测试 (Update)
- 删除操作测试 (Delete)
- 财务模块 CRUD
- 人事模块 CRUD
- 系统管理模块 CRUD
- 站点模块 CRUD
- 资产模块 CRUD
- 综合CRUD流程

## 运行 CRUD 测试

```bash
# 运行所有 CRUD 测试
npm run test:e2e:live:crud

# 或使用 Playwright
npx playwright test tests/live-env-crud.spec.ts --workers=1
```

## 注意事项

1. **测试数据清理**：测试会尝试清理自己创建的测试数据（名称包含"E2E测试"）
2. **权限要求**：需要相应的权限才能执行增删改操作
3. **测试环境**：确保在测试环境运行，不要在生产环境运行
4. **部分操作**：某些操作（如删除）可能因为业务规则限制而不支持，测试会优雅处理

